<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/home.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body>
    <div class="home-page-main-wrapper">
        <div class="home-page-main-container shadow-[0_4px_10px_rgba(0,0,0,0.2)]">
            <%- include('./hospital-includes/hospital-navigation.ejs') %>
            <div class="home-page-right-panel-wrapper border-t flex flex-col justify-center items-center border-slate-100">
                <div class="home-page-main-content-header w-full p-8 h-full flex flex-row justify-between"> 
                    <div class="flex flex-col justify-start items-start gap-2">
                        <div class="text-slate-800 text-4xl font-medium">Hello <%= hospitalDetails.name %> Management Team!</div>
                        <div class="text-slate-500 text-2xl">Welcome to Tulajaram Blood Bank!</div>
                    </div>
                </div>
                <div class="home-page-main-content-body w-full h-full">
                    <div class="flex flex-col justify-start items-start p-8 gap-8 text-xl">
                        <div class="w-full flex flex-col gap-4 justify-center items-center">
                            <div class="text-slate-800 text-2xl w-full">Quick Summary</div>
                            <div class="flex flex-row justify-stretch items-center gap-8 w-full">
                                <div class="w-1/2 p-6 border border-slate-400 shadow-md flex flex-col gap-4 justify-center items-center rounded-lg">
                                    <div>Active Requests</div>
                                    <div class="text-slate-800 font-bold text-2xl"><%= hospitalDetails.activeRequests %></div>
                                </div>
                                <div class="w-1/2 p-6 border border-slate-400 shadow-md flex flex-col gap-4 justify-center items-center rounded-lg">
                                    <div>Total Requests</div>
                                    <div class="text-slate-800 font-bold text-2xl"><%= hospitalDetails.totalRequest %></div>
                                </div>
                            </div>
                            
                        </div>
                        <% if(hospitalDetails.latestRequestDetails != null) { %>
                            <div class="w-full flex flex-col gap-4 text-xl justify-center items-start mt-6 shadow-[0_4px_10px_rgba(0,0,0,0.2)] rounded-lg p-6">
                                <h2 class="text-xl font-semibold text-gray-700">Latest Request Details</h2>
                                <div class="flex flex-col gap-4">
                                    <div class="flex flex-row gap-3 items-center">
                                        <i class="fas fa-tint"></i> Blood Group: <%= hospitalDetails.latestRequestDetails.bloodGroup %>
                                    </div>
                                    <div class="flex flex-row gap-3 items-center">
                                        <i class="fas fa-clock"></i> Request Date: <%= hospitalDetails.latestRequestDetails.date %>
                                    </div>
                                    <div class="flex flex-row gap-3 items-center">
                                        <i class="fas fa-hospital"></i> Priority: <%= hospitalDetails.latestRequestDetails.priority %>
                                    </div>
                                </div>
                                <div class="w-full flex flex-col gap-4 text-xl justify-center items-start">
                                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                    <button type="submit" 
                                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 focus:outline-none">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        <% } else { %>
                            <div class="bg-white shadow-[0_4px_10px_rgba(0,0,0,0.2)] rounded-lg p-6 w-full">
                                <h2 class="text-xl font-semibold text-gray-700 mb-4">No active request available right now! Please create a new one.</h2>
                            </div>
                        <% } %>    
                    </div>
                </div>
                <%- include('./hospital-includes/hospital-footer.ejs') %>
            </div>     
        <div>
    </div>
<%- include('../includes/end.ejs') %>
